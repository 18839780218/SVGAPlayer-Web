!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.SVGA=e():t.SVGA=e()}("undefined"!=typeof self?self:this,function(){return function(t){function e(r){if(s[r])return s[r].exports;var n=s[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var s={};return e.m=t,e.c=s,e.d=function(t,s,r){e.o(t,s)||Object.defineProperty(t,s,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var s=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(s,"a",s),s},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=11)}([function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s(1),n=s(7),o=function(){function t(){}return t.prototype.load=function(t,e,s){var o=this;n.ISURL(t)&&this.downloader.downloadFileWithURL(t,function(t){o.decompresser.decompressFileData(t,function(t){var s=t.images,n=new r.VideoEntity(null,s);e(n)})})},t}();e.BaseParser=o},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,n=s(2),o=s(3);!function(t){t.Version1_0="1.0",t.Version1_5="1.5",t.Version2_0="2.0"}(r=e.SVGAVersion||(e.SVGAVersion={}));var i=function(){function t(t,e){this.version=r.Version2_0,this.videoSize=n.SizeMake(0,0),this.FPS=20,this.frames=0,this.images={},this.sprites=[],"object"==typeof t&&("object"==typeof t.params&&(this.version=t.ver,this.videoSize.width=t.params.viewBoxWidth||0,this.videoSize.height=t.params.viewBoxHeight||0,this.FPS=t.params.fps||20,this.frames=t.params.frames||0),this.resetSprites(t)),e&&(this.images=e)}return t.prototype.resetSprites=function(t){t.sprites instanceof Array&&(this.sprites=t.sprites.map(function(t){return new o.SpriteEntity(t)}))},t}();e.VideoEntity=i},function(t,e,s){"use strict";function r(t,e){return{width:t,height:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.SizeMake=r},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s(4),n=function(){function t(t){this.imageKey=null,this.frames=[],this.imageKey=t.imageKey,t.frames&&(this.frames=t.frames.map(function(t){return new r.FrameEntity(t)}))}return t}();e.SpriteEntity=n},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s(5),n=s(6),o=function(){function t(t){this.alpha=0,this.transform=r.TransformMake(1,0,0,1,0,0),this.nx=0,this.ny=0,this.layout=n.RectMake(0,0,0,0),this.maskPath=null,this.shapes=[],this.alpha=parseFloat(t.alpha)||0,t.layout&&(this.layout.x=parseFloat(t.layout.x)||0,this.layout.y=parseFloat(t.layout.y)||0,this.layout.width=parseFloat(t.layout.width)||0,this.layout.height=parseFloat(t.layout.height)||0),t.transform&&(this.transform.a=parseFloat(t.transform.a)||1,this.transform.b=parseFloat(t.transform.b)||0,this.transform.c=parseFloat(t.transform.c)||0,this.transform.d=parseFloat(t.transform.d)||1,this.transform.tx=parseFloat(t.transform.tx)||0,this.transform.ty=parseFloat(t.transform.ty)||0),t.clipPath&&t.clipPath.length>0&&(this.maskPath=new BezierPath(t.clipPath,void 0,111)),t.shapes&&(t.shapes instanceof Array&&t.shapes.forEach(function(t){switch(t.pathArgs=t.args,t.type){case 0:t.type="shape",t.pathArgs=t.shape;break;case 1:t.type="rect",t.pathArgs=t.rect;break;case 2:t.type="ellipse",t.pathArgs=t.ellipse;break;case 3:t.type="keep"}if(t.styles){t.styles.fill&&("number"==typeof t.styles.fill.r&&(t.styles.fill[0]=t.styles.fill.r),"number"==typeof t.styles.fill.g&&(t.styles.fill[1]=t.styles.fill.g),"number"==typeof t.styles.fill.b&&(t.styles.fill[2]=t.styles.fill.b),"number"==typeof t.styles.fill.a&&(t.styles.fill[3]=t.styles.fill.a)),t.styles.stroke&&("number"==typeof t.styles.stroke.r&&(t.styles.stroke[0]=t.styles.stroke.r),"number"==typeof t.styles.stroke.g&&(t.styles.stroke[1]=t.styles.stroke.g),"number"==typeof t.styles.stroke.b&&(t.styles.stroke[2]=t.styles.stroke.b),"number"==typeof t.styles.stroke.a&&(t.styles.stroke[3]=t.styles.stroke.a));var e=t.styles.lineDash||[];switch(t.styles.lineDashI>0&&e.push(t.styles.lineDashI),t.styles.lineDashII>0&&(e.length<1&&e.push(0),e.push(t.styles.lineDashII),e.push(0)),t.styles.lineDashIII>0&&(e.length<2&&(e.push(0),e.push(0)),e[2]=t.styles.lineDashIII),t.styles.lineDash=e,t.styles.lineJoin){case 0:t.styles.lineJoin="miter";break;case 1:t.styles.lineJoin="round";break;case 2:t.styles.lineJoin="bevel"}switch(t.styles.lineCap){case 0:t.styles.lineCap="butt";break;case 1:t.styles.lineCap="round";break;case 2:t.styles.lineCap="square"}}}),t.shapes[0]&&"keep"===t.shapes[0].type?this.shapes=[{type:"keep"}]:this.shapes=t.shapes);var e=this.transform.a*this.layout.x+this.transform.c*this.layout.y+this.transform.tx,s=this.transform.a*(this.layout.x+this.layout.width)+this.transform.c*this.layout.y+this.transform.tx,o=this.transform.a*this.layout.x+this.transform.c*(this.layout.y+this.layout.height)+this.transform.tx,i=this.transform.a*(this.layout.x+this.layout.width)+this.transform.c*(this.layout.y+this.layout.height)+this.transform.tx,a=this.transform.b*this.layout.x+this.transform.d*this.layout.y+this.transform.ty,l=this.transform.b*(this.layout.x+this.layout.width)+this.transform.d*this.layout.y+this.transform.ty,u=this.transform.b*this.layout.x+this.transform.d*(this.layout.y+this.layout.height)+this.transform.ty,f=this.transform.b*(this.layout.x+this.layout.width)+this.transform.d*(this.layout.y+this.layout.height)+this.transform.ty;this.nx=Math.min(Math.min(o,i),Math.min(e,s)),this.ny=Math.min(Math.min(u,f),Math.min(a,l))}return t}();e.FrameEntity=o},function(t,e,s){"use strict";function r(t,e,s,r,n,o){return{a:t,b:e,c:s,d:r,tx:n,ty:o}}Object.defineProperty(e,"__esModule",{value:!0}),e.TransformMake=r},function(t,e,s){"use strict";function r(t,e,s,r){return{x:t,y:e,width:s,height:r}}Object.defineProperty(e,"__esModule",{value:!0}),e.RectMake=r},function(t,e,s){"use strict";function r(t){if(!t)return!1;return!!new RegExp("^((https|http|ftp|rtsp|mms)?://)?(([0-9a-z_!~*'().&amp;=+$%-]+: )?[0-9a-z_!~*'().&amp;=+$%-]+@)?(([0-9]{1,3}.){3}[0-9]{1,3}|([0-9a-z_!~*'()-]+.)*([0-9a-z][0-9a-z-]{0,61})?[0-9a-z].[a-z]{2,6})(:[0-9]{1,4})?((/?)|(/[0-9a-z_!~*'().;?:@&amp;=+$,%#-]+)+/?)$").test(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.ISURL=r},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.prototype.downloadFileWithURL=function(t,e,s){},t}();e.Downloader=r},function(t,e,s){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var s in e)e.hasOwnProperty(s)&&(t[s]=e[s])};return function(e,s){function r(){this.constructor=e}t(e,s),e.prototype=null===s?Object.create(s):(r.prototype=s.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=s(0),o=s(10),i=s(19),a=function(t){function e(){var e=t.call(this)||this;return e.downloader=new o.HTTPDownloader,e.decompresser=new i.SVGA1_0Decompresser,e}return r(e,t),e}(n.BaseParser);e.Parser=a},function(t,e,s){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var s in e)e.hasOwnProperty(s)&&(t[s]=e[s])};return function(e,s){function r(){this.constructor=e}t(e,s),e.prototype=null===s?Object.create(s):(r.prototype=s.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=s(8),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.downloadFileWithURL=function(t,e,s){var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onloadend=function(){e(r.response)},r.send()},e}(n.Downloader);e.HTTPDownloader=o},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s(9);e.Parser=r.Parser;var n=s(12);e.Player=n.Player},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t}();e.Player=r},,,,,,,function(t,e,s){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var s in e)e.hasOwnProperty(s)&&(t[s]=e[s])};return function(e,s){function r(){this.constructor=e}t(e,s),e.prototype=null===s?Object.create(s):(r.prototype=s.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=s(20),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.decompressFileData=function(t,e,s){"function"==typeof JSZip?JSZip.loadAsync(t).then(function(t){t.file("movie.spec").async("string").then(function(s){var r=JSON.parse(s),n={};this.loadImages(n,t,r,function(){e({movie:r,images:n})})})}):s&&s(new Error("Jszip is not included."))},e.prototype.loadImages=function(t,e,s,r){},e}(n.Decompresser);e.SVGA1_0Decompresser=o},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.prototype.decompressFileData=function(t,e,s){},t}();e.Decompresser=r}])});